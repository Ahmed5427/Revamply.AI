/* ================================================
   REVAMPLY AI - COMPLETE CONTRAST FIX
   Fixes font color visibility in light AND dark modes
   Apply AFTER all other CSS files
   ================================================ */

/* ================================================
   UNIVERSAL DARK MODE FIXES (prefers-color-scheme: dark)
   ================================================ */
@media (prefers-color-scheme: dark) {
    /* HEADINGS - Always white */
    section h1, section h2, section h3, section h4, section h5, section h6 {
        color: #ffffff !important;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    header h1, header h2, header h3, header h4 {
        color: #ffffff !important;
    }

    /* PARAGRAPHS - Light gray for readability */
    section p, header p, footer p {
        color: #e5e7eb !important;
    }

    /* LIST ITEMS */
    section li, header li, footer li {
        color: #e5e7eb !important;
    }

    /* DARK BACKGROUND CARDS (bg-gray-800, bg-gray-900, bg-black) */
    .bg-gray-800, .bg-gray-900, .bg-black {
        background-color: inherit !important;
    }

    .bg-gray-800 h1, .bg-gray-800 h2, .bg-gray-800 h3, .bg-gray-800 h4,
    .bg-gray-900 h1, .bg-gray-900 h2, .bg-gray-900 h3, .bg-gray-900 h4,
    .bg-black h1, .bg-black h2, .bg-black h3, .bg-black h4 {
        color: #ffffff !important;
    }

    .bg-gray-800 p, .bg-gray-800 li,
    .bg-gray-900 p, .bg-gray-900 li,
    .bg-black p, .bg-black li {
        color: #e5e7eb !important;
    }

    /* WHITE BACKGROUND CARDS - Convert to dark gray in dark mode */
    .bg-white {
        background: #1f2937 !important;
    }

    .bg-white h1, .bg-white h2, .bg-white h3, .bg-white h4 {
        color: #ffffff !important;
    }

    .bg-white p, .bg-white li, .bg-white span, .bg-white div {
        color: #e5e7eb !important;
    }

    .bg-white .text-gray-500, .bg-white .text-gray-600, .bg-white .text-gray-700 {
        color: #d1d5db !important;
    }

    /* LIGHT GRAY CARDS - Convert to darker gray in dark mode */
    .bg-gray-50 {
        background: #374151 !important;
    }

    .bg-gray-50 h1, .bg-gray-50 h2, .bg-gray-50 h3, .bg-gray-50 h4 {
        color: #ffffff !important;
    }

    .bg-gray-50 p, .bg-gray-50 li, .bg-gray-50 span, .bg-gray-50 div {
        color: #e5e7eb !important;
    }

    .bg-gray-50 .text-gray-500, .bg-gray-50 .text-gray-600, .bg-gray-50 .text-gray-700 {
        color: #d1d5db !important;
    }

    /* LIGHT COLORED BOXES (bg-blue-100, bg-pink-100, etc.) */
    .bg-blue-100, .bg-blue-50 {
        background: #0f172a !important; /* Very dark blue */
    }

    .bg-pink-100, .bg-pink-50 {
        background: #1f0f2e !important; /* Very dark pink */
    }

    .bg-blue-100 h1, .bg-blue-100 h2, .bg-blue-100 h3, .bg-blue-100 h4,
    .bg-pink-100 h1, .bg-pink-100 h2, .bg-pink-100 h3, .bg-pink-100 h4,
    .bg-blue-50 h1, .bg-blue-50 h2, .bg-blue-50 h3, .bg-blue-50 h4,
    .bg-pink-50 h1, .bg-pink-50 h2, .bg-pink-50 h3, .bg-pink-50 h4 {
        color: #ffffff !important;
    }

    .bg-blue-100 p, .bg-blue-100 li, .bg-blue-100 span,
    .bg-pink-100 p, .bg-pink-100 li, .bg-pink-100 span,
    .bg-blue-50 p, .bg-blue-50 li, .bg-blue-50 span,
    .bg-pink-50 p, .bg-pink-50 li, .bg-pink-50 span {
        color: #e5e7eb !important;
    }

    .bg-blue-100 .font-medium, .bg-pink-100 .font-medium,
    .bg-blue-50 .font-medium, .bg-pink-50 .font-medium {
        color: #ffffff !important;
    }

    /* FORM ELEMENTS */
    input, textarea, select {
        background: #1f2937 !important;
        color: #ffffff !important;
        border-color: #4b5563 !important;
    }

    input::placeholder, textarea::placeholder {
        color: #9ca3af !important;
    }

    label, .field-label {
        color: #e5e7eb !important;
    }

    /* BUTTONS */
    button, .btn, a.btn {
        color: #ffffff !important;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    /* LINKS */
    a.text-cyan-600, a.text-blue-600 {
        color: #06b6d4 !important;
    }

    a.text-cyan-600:hover, a.text-blue-600:hover {
        color: #0891b2 !important;
    }

    /* TEXT UTILITIES - Override light text colors */
    .text-gray-300, .text-gray-400 {
        color: #d1d5db !important;
    }

    .text-gray-500, .text-gray-600, .text-gray-700 {
        color: #9ca3af !important;
    }

    /* STATS AND METRICS */
    .text-3xl, .text-4xl, .text-5xl, .text-6xl {
        color: #ffffff !important;
        font-weight: 700;
    }

    .text-sm, .text-xs {
        color: #d1d5db !important;
    }

    /* GRADIENT TEXT - Always visible */
    .text-gradient, .gradient-text {
        background: linear-gradient(135deg, #60a5fa 0%, #ec4899 100%) !important;
        -webkit-background-clip: text !important;
        -webkit-text-fill-color: transparent !important;
        background-clip: text !important;
    }

    /* PRICING TEXT FIX */
    .pricing-text {
        color: #e5e7eb !important;
    }
}

/* ================================================
   LIGHT MODE FIXES (prefers-color-scheme: light)
   ================================================ */
@media (prefers-color-scheme: light) {
    /* WHITE BACKGROUND CARDS - Keep white, ensure dark text */
    .bg-white {
        background: #ffffff !important;
    }

    .bg-white h1, .bg-white h2, .bg-white h3, .bg-white h4 {
        color: #111827 !important;
    }

    .bg-white p, .bg-white li, .bg-white span, .bg-white div {
        color: #1f2937 !important;
    }

    .bg-white .text-gray-500, .bg-white .text-gray-600, .bg-white .text-gray-700 {
        color: #4b5563 !important;
    }

    /* LIGHT GRAY CARDS */
    .bg-gray-50 {
        background: #f9fafb !important;
    }

    .bg-gray-50 h1, .bg-gray-50 h2, .bg-gray-50 h3, .bg-gray-50 h4 {
        color: #111827 !important;
    }

    .bg-gray-50 p, .bg-gray-50 li {
        color: #1f2937 !important;
    }

    /* LIGHT COLORED BOXES - Keep light */
    .bg-blue-100, .bg-blue-50 {
        background: #dbeafe !important;
    }

    .bg-pink-100, .bg-pink-50 {
        background: #fce7f3 !important;
    }

    .bg-blue-100 h1, .bg-blue-100 h2, .bg-blue-100 h3, .bg-blue-100 h4,
    .bg-pink-100 h1, .bg-pink-100 h2, .bg-pink-100 h3, .bg-pink-100 h4 {
        color: #111827 !important;
    }

    .bg-blue-100 p, .bg-blue-100 li, .bg-blue-100 span,
    .bg-pink-100 p, .bg-pink-100 li, .bg-pink-100 span {
        color: #1f2937 !important;
    }

    .bg-blue-100 .font-medium, .bg-pink-100 .font-medium {
        color: #111827 !important;
    }

    /* DARK BACKGROUND CARDS - Keep dark, ensure light text */
    .bg-gray-800, .bg-gray-900, .bg-black {
        background-color: inherit !important;
    }

    .bg-gray-800 h1, .bg-gray-800 h2, .bg-gray-800 h3, .bg-gray-800 h4,
    .bg-gray-900 h1, .bg-gray-900 h2, .bg-gray-900 h3, .bg-gray-900 h4,
    .bg-black h1, .bg-black h2, .bg-black h3, .bg-black h4 {
        color: #ffffff !important;
    }

    .bg-gray-800 p, .bg-gray-800 li,
    .bg-gray-900 p, .bg-gray-900 li,
    .bg-black p, .bg-black li {
        color: #e5e7eb !important;
    }

    /* PRICING TEXT FIX */
    .pricing-text {
        color: #1f2937 !important;
    }

    /* TEXT UTILITIES */
    .text-gray-300, .text-gray-400 {
        color: #6b7280 !important;
    }

    .text-gray-500, .text-gray-600, .text-gray-700 {
        color: #4b5563 !important;
    }

    /* BUTTONS */
    button, .btn {
        color: #ffffff !important;
    }

    /* LINKS */
    a.text-cyan-600, a.text-blue-600 {
        color: #0891b2 !important;
    }
}

/* ================================================
   MOBILE SPECIFIC (max-width: 768px)
   Forces high contrast on mobile regardless of browser preference
   ================================================ */
@media (max-width: 768px) {
    /* Always ensure readable contrast on mobile */
    body {
        color: inherit;
    }

    /* Mobile dark text on light backgrounds */
    .bg-white, .bg-gray-50, .bg-blue-100, .bg-pink-100 {
        color: #1f2937 !important;
    }

    .bg-white h1, .bg-white h2, .bg-white h3, .bg-white h4,
    .bg-gray-50 h1, .bg-gray-50 h2, .bg-gray-50 h3, .bg-gray-50 h4,
    .bg-blue-100 h1, .bg-blue-100 h2, .bg-blue-100 h3, .bg-blue-100 h4,
    .bg-pink-100 h1, .bg-pink-100 h2, .bg-pink-100 h3, .bg-pink-100 h4 {
        color: #111827 !important;
    }

    .bg-white p, .bg-white li,
    .bg-gray-50 p, .bg-gray-50 li,
    .bg-blue-100 p, .bg-blue-100 li,
    .bg-pink-100 p, .bg-pink-100 li {
        color: #1f2937 !important;
    }

    /* Mobile light text on dark backgrounds */
    .bg-gray-800, .bg-gray-900, .bg-black {
        color: #e5e7eb !important;
    }

    .bg-gray-800 h1, .bg-gray-800 h2, .bg-gray-800 h3, .bg-gray-800 h4,
    .bg-gray-900 h1, .bg-gray-900 h2, .bg-gray-900 h3, .bg-gray-900 h4,
    .bg-black h1, .bg-black h2, .bg-black h3, .bg-black h4 {
        color: #ffffff !important;
    }

    .bg-gray-800 p, .bg-gray-800 li,
    .bg-gray-900 p, .bg-gray-900 li,
    .bg-black p, .bg-black li {
        color: #e5e7eb !important;
    }

    /* Mobile form elements */
    input, textarea, select {
        font-size: 16px !important;
        min-height: 44px;
    }

    /* Mobile pricing text - always dark on light backgrounds */
    .bg-white .pricing-text, .bg-gray-50 .pricing-text {
        color: #1f2937 !important;
    }
}

/* ================================================
   UTILITY CLASSES - Use as needed
   ================================================ */

/* Force white background + dark text (light cards in dark mode) */
.force-light {
    background: #ffffff !important;
    color: #1f2937 !important;
}

.force-light h1, .force-light h2, .force-light h3, .force-light h4 {
    color: #111827 !important;
}

.force-light p, .force-light li {
    color: #1f2937 !important;
}

/* Force dark background + light text (dark cards in light mode) */
.force-dark {
    background: #1f2937 !important;
    color: #e5e7eb !important;
}

.force-dark h1, .force-dark h2, .force-dark h3, .force-dark h4 {
    color: #ffffff !important;
}

.force-dark p, .force-dark li {
    color: #e5e7eb !important;
}

/* High contrast text */
.high-contrast {
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* ================================================
   ACCESSIBILITY - WCAG AA Compliant
   ================================================ */

/* Ensure minimum contrast ratio of 4.5:1 for normal text */
@media (prefers-contrast: high) {
    body {
        font-weight: 500;
    }

    section h1, section h2, section h3, section h4 {
        font-weight: 700;
        letter-spacing: -0.01em;
    }

    button, .btn {
        font-weight: 600;
    }

    a {
        text-decoration: underline;
    }
}

/* Focus states for keyboard navigation */
button:focus, input:focus, a:focus, select:focus, textarea:focus {
    outline: 3px solid #0891b2;
    outline-offset: 2px;
}

/* Ensure text remains visible during loading */
@supports (font-display: swap) {
    body {
        font-display: swap;
    }
}
